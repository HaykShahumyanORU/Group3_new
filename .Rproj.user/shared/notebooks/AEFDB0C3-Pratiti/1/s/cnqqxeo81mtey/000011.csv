"0","# Load necessary libraries"
"0","library(plotly)"
"0",""
"0","# Import the dataset"
"0","data <- read.csv(""education.csv"", header = TRUE, stringsAsFactors = FALSE, na.strings = c("""", ""NA""))"
"0",""
"0","# Ensure relevant columns are numeric and clean them"
"0","data$`Unemployment.rate....` <- as.numeric(gsub("","", """", as.character(data$`Unemployment.rate....`)))"
"0",""
"0","# Check for NAs after conversion"
"0","na_count <- sum(is.na(data$`Unemployment.rate....`))"
"0","if (na_count > 0) {"
"0","  cat(""Number of NA values in unemployment rate:"", na_count, ""\n"")"
"0","}"
"1","Number of NA values in unemployment rate:"
"1"," "
"1","1"
"1"," "
"1","
"
"0","# Filter out rows where unemployment rate is NA"
"0","filtered_data <- data[!is.na(data$`Unemployment.rate....`), ]"
"0",""
"0","# Sort the data by unemployment rate from lowest to highest"
"0","filtered_data <- filtered_data[order(filtered_data$`Unemployment.rate....`), ]"
"0",""
"0","# Check if the filtered data is empty"
"0","if (nrow(filtered_data) == 0) {"
"0","  stop(""Filtered data is empty. Please check the dataset for valid unemployment rate values."")"
"0","}"
"0",""
"0","# Create the scatter plot using Plotly"
"0","fig <- plot_ly("
"0","  data = filtered_data,"
"0","  x = ~`Educational.attainment`,"
"0","  y = ~`Unemployment.rate....`,"
"0","  type = 'scatter',"
"0","  mode = 'markers',"
"0","  marker = list("
"0","    color = ~`Unemployment.rate....`,  # Color based on unemployment rate"
"0","    colorscale = 'Reds',               # Color scale"
"0","    showscale = TRUE,                  # Show color scale"
"0","    size = 10                          # Size of the points"
"0","  )"
"0",") %>%"
"0","  layout("
"0","    title = ""Scatter Plot of Educational Attainment vs. Unemployment Rate"","
"0","    xaxis = list(title = ""Educational Attainment""),"
"0","    yaxis = list(title = ""Unemployment Rate (%)""),"
"0","    showlegend = FALSE"
"0","  )"
"0",""
"0","# Show the plot"
"0","fig"
